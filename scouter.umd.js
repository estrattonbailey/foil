!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("nanoassert")):"function"==typeof define&&define.amd?define(["exports","nanoassert"],t):t(e.scouter={},e.assert)}(this,function(e,t){function r(e){var t=e.split("/");return t.slice(""!==t[0]?0:1)}t=t&&t.hasOwnProperty("default")?t.default:t,e.route=function(e){return t(e.path&&e.component,"routes require both path and component properties"),t("string"==typeof e.path,"route.path should be a string"),t("function"==typeof e.component,"route.component should be a function"),function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return e.routes=t&&t.length>0?function t(r){return r.map(function(r){var n,o;if(r.path=(n=e.path,o=r.path,[n,o].join("/").replace("//","/")),r.loader&&e.loader){var a=r.loader;r.loader=function(t,r){return Promise.resolve(e.loader(t,r)).then(function(e){return a(e,r)})}}return t(e.routes||[]),r})}(t):[],e}},e.router=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=[];return function e(t){for(;t.length;){var o=t.pop();n.push({parts:r(o.path),component:o.component,loader:o.loader}),e(o.routes)}}(e),{resolve:function(e,t){var o=this;return Promise.resolve(function(e,t){var n=r(e),o={};e:for(var a=0,u=t;a<u.length;a+=1){var s=u[a];if(n.length===s.parts.length){for(var p=0;p<s.parts.length;p++)if(":"!==s.parts[p][0]){if(s.parts[p]!==n[p]){if("*"===s.parts[p])break;continue e}}else o[s.parts[p].slice(1)]=n[p];return s.params=o,s}if("*"==s.parts[0])return s.params=o,s}}(e,n)).then(function(r){var n=r.component,a=r.loader,u=r.params,s=Object.assign(t||{},{params:u});return"function"==typeof a?(o.cache?o.cache.load(e,Promise.resolve(a(null,s))):Promise.resolve(a(null,s))).then(function(e){return{component:n,data:e,params:u}}):{component:n,data:{},params:u}})}}}});
//# sourceMappingURL=scouter.umd.js.map
